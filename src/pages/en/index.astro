---
import BaseHead from "../../components/BaseHead.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { ClientRouter } from "astro:transitions";
// import { SITE_TITLE, SITE_DESCRIPTION } from "../consts"; // Removed
// import { getLangFromUrl } from "../i18n/utils"; // Removed
import { useTranslations } from "../../i18n/utils"; // Adjusted path

// lang is now derived from Astro.params.lang for static pages in [lang] folders
const lang = Astro.params.lang as keyof typeof import('../../i18n/ui').ui;
const t = useTranslations(lang);

const age = () => {
    const birthdate = new Date("2001-03-25");
    return Math.floor(
        (new Date() - birthdate) / (365.25 * 24 * 60 * 60 * 1000),
    );
};
---

<!doctype html>
<html lang={lang}>
    <head>
        <ClientRouter />
        <BaseHead title={t('site.consts.title')} description={t('site.consts.description')} />
    </head>
    <body>
        <Header title={t('site.consts.title')} />
        <main>
            <h2>{t('home.greeting')}</h2>
            <p>
                {t('home.intro')}
            </p>
            <h3>{t('home.whoAmI')}</h3>
            <p>
                {t('home.whoAmIDetail', age())}
            </p>
            <h3>{t('home.whyBlog')}</h3>
            <p>
                {t('home.whyBlogDetail')}
            </p>
            <h3>{t('home.whatToShare')}</h3>
            <p>
                {t('home.whatToShareDetail')}
            </p>
        </main>
        <Footer />
    </body>
</html>
