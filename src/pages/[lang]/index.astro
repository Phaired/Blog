---
import BaseHead from "../../components/BaseHead.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import { ClientRouter } from "astro:transitions";
import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";
import { useTranslations } from "../../i18n/utils";
const age = () => {
    const birthdate = new Date("2001-03-25");
    return Math.floor(
        (new Date() - birthdate) / (365.25 * 24 * 60 * 60 * 1000),
    );
};

const lang = Astro.params.lang;
const t = useTranslations(lang);

export function getStaticPaths() {
    return [{ params: { lang: "en" } }, { params: { lang: "fr" } }];
}
---

<!doctype html>
<html lang={lang}>
    <head>
        <ClientRouter />
        <BaseHead title={t("site.title")} description={t("site.description")} />
        <style>
            .hero {
                text-align: center;
                padding: 4rem 1rem 3rem;
                position: relative;
            }
            .hero::before {
                content: "";
                position: absolute;
                top: -40%;
                left: 50%;
                transform: translateX(-50%);
                width: 600px;
                height: 600px;
                background: radial-gradient(circle, var(--color-accent-glow) 0%, transparent 70%);
                pointer-events: none;
                z-index: -1;
            }
            .hero-greeting {
                font-size: 1rem;
                font-weight: 500;
                color: rgb(var(--accent));
                text-transform: uppercase;
                letter-spacing: 0.1em;
                margin-bottom: 0.5rem;
            }
            .hero-title {
                font-size: clamp(2.5rem, 6vw, 4rem);
                margin-bottom: 1rem;
                line-height: 1.1;
            }
            .hero-subtitle {
                font-size: 1.1rem;
                color: rgb(var(--color-date));
                max-width: 600px;
                margin: 0 auto;
                line-height: 1.6;
            }
            .home-content {
                padding: 1rem 0 2rem;
            }
            .home-content h3 {
                margin-top: 1.5rem;
            }
            @media (max-width: 768px) {
                .hero {
                    padding: 2.5rem 1rem 2rem;
                }
            }
        </style>
    </head>
    <body>
        <Header lang={lang} title={t("site.title")} />
        <main>
            <section class="hero">
                <h1 class="hero-title gradient-text">{t("site.title")}</h1>
                <p class="hero-subtitle">{t("home.intro")}</p>
            </section>
            <section class="home-content">
                <h3>{t("home.who.title")}</h3>
                <p>{t("home.who.text", age)}</p>
                <h3>{t("home.why.title")}</h3>
                <p>{t("home.why.text")}</p>
                <h3>{t("home.share.title")}</h3>
                <p>{t("home.share.text")}</p>
            </section>
        </main>
        <Footer />
    </body>
</html>
